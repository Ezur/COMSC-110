#include <iostream>
#include <iomanip>
#include <ctime>
#include <array>
#include <algorithm>
using namespace std;

const int ROWS = 3, COLS = 10, W1 = 4;
void printArr(array<array<int, COLS>, ROWS>, string);

int main()
{
    srand(time(0));
    array<array<int, COLS>, ROWS> arr;
    for (int r = 0; r < ROWS; r++)
        for (int c = 0; c < COLS; c++)
            arr[r][c] = rand() % 99;
    printArr(arr, "Initial array");

    array<int, ROWS * COLS> arrFlat;
    int index = 0;
    for (int r = 0; r < ROWS; r++)
        for (int c = 0; c < COLS; c++)
            arrFlat[index++] = arr[r][c];
    sort(arrFlat.begin(), arrFlat.end());

    index = 0;
    for (int r = 0; r < ROWS; r++)
        for (int c = 0; c < COLS; c++)
            arr[r][c] = arrFlat[index++];
    printArr(arr, "After sorting");

    return 0;
}

void printArr(array<array<int, COLS>, ROWS> arr, string s)
{
    cout << s << ":\n";
    for (int r = 0; r < ROWS; r++)
    {
        for (int c = 0; c < COLS; c++)
            cout << setw(W1) << arr[r][c];
        cout << endl;
    }
    cout << endl;
}
